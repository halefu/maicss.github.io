<!DOCTYPE HTML>
<html>


<head>
  <meta charset="utf-8">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>树莓派挂载硬盘 | Maic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Maicss">
  
  
    <meta name="description" content="找到硬盘我的硬盘是原来电脑上拆下来的2.5的系统盘，直接就插到树莓派上了。然后发现有个99MB的隐藏分区，磁盘就有了两个分区。
我们要做的就是先找到硬盘，看是不是正确连接到树莓派了sudo blkid。
1234567/dev/mmcblk0: PTUUID=&amp;quot;00096d57&amp;quot; PTTYPE=&amp;quot;dos&amp;quot;/dev/mmcblk0p1: LABEL=&amp;quot">
  
  <meta name="description" content="找到硬盘我的硬盘是原来电脑上拆下来的2.5的系统盘，直接就插到树莓派上了。然后发现有个99MB的隐藏分区，磁盘就有了两个分区。
我们要做的就是先找到硬盘，看是不是正确连接到树莓派了sudo blkid。
1234567/dev/mmcblk0: PTUUID=&amp;quot;00096d57&amp;quot; PTTYPE=&amp;quot;dos&amp;quot;/dev/mmcblk0p1: LABEL=&amp;quot">
<meta property="og:type" content="article">
<meta property="og:title" content="树莓派挂载硬盘">
<meta property="og:url" content="http://maicss.com/2016/08/06/树莓派挂载硬盘/index.html">
<meta property="og:site_name" content="Maic">
<meta property="og:description" content="找到硬盘我的硬盘是原来电脑上拆下来的2.5的系统盘，直接就插到树莓派上了。然后发现有个99MB的隐藏分区，磁盘就有了两个分区。
我们要做的就是先找到硬盘，看是不是正确连接到树莓派了sudo blkid。
1234567/dev/mmcblk0: PTUUID=&amp;quot;00096d57&amp;quot; PTTYPE=&amp;quot;dos&amp;quot;/dev/mmcblk0p1: LABEL=&amp;quot">
<meta property="og:updated_time" content="2016-08-06T10:07:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="树莓派挂载硬盘">
<meta name="twitter:description" content="找到硬盘我的硬盘是原来电脑上拆下来的2.5的系统盘，直接就插到树莓派上了。然后发现有个99MB的隐藏分区，磁盘就有了两个分区。
我们要做的就是先找到硬盘，看是不是正确连接到树莓派了sudo blkid。
1234567/dev/mmcblk0: PTUUID=&amp;quot;00096d57&amp;quot; PTTYPE=&amp;quot;dos&amp;quot;/dev/mmcblk0p1: LABEL=&amp;quot">
  
    <link rel="alternate" href="/atom.xml" title="Maic" type="application/atom+xml">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-70116787-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">Maic</a></h1>
    <p><a href="/">FEE maicss@foxmail.com</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/others">NoName</a></li>
      
        <li><a href="/pics">Pics</a></li>
      
      
        <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/08/06/树莓派挂载硬盘/">
  <time datetime="2016-08-06T06:01:39.000Z">
    2016-08-06
  </time>
</a>
    
    
  
    <h1 class="title">树莓派挂载硬盘</h1>
  

  </header>
  
  <div class="entry">
    
      <h2 id="找到硬盘"><a href="#找到硬盘" class="headerlink" title="找到硬盘"></a>找到硬盘</h2><p>我的硬盘是原来电脑上拆下来的2.5的系统盘，直接就插到树莓派上了。然后发现有个99MB的隐藏分区，磁盘就有了两个分区。</p>
<p>我们要做的就是先找到硬盘，看是不是正确连接到树莓派了<code>sudo blkid</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/dev/mmcblk0: PTUUID=&quot;00096d57&quot; PTTYPE=&quot;dos&quot;</div><div class="line">/dev/mmcblk0p1: LABEL=&quot;RECOVERY&quot; UUID=&quot;0403-0201&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;00096d57-01&quot;</div><div class="line">/dev/mmcblk0p5: LABEL=&quot;SETTINGS&quot; UUID=&quot;cb8378b5-105a-42c0-a60f-893aa325eb93&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;00096d57-05&quot;</div><div class="line">/dev/mmcblk0p6: SEC_TYPE=&quot;msdos&quot; LABEL=&quot;boot&quot; UUID=&quot;8CE1-9378&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;00096d57-06&quot;</div><div class="line">/dev/mmcblk0p7: LABEL=&quot;root&quot; UUID=&quot;82d2c250-fc8e-45fc-a223-76248b92ad25&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;00096d57-07&quot;</div><div class="line">/dev/sda1: SEC_TYPE=&quot;msdos&quot; UUID=&quot;6235-B0BA&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI system partition&quot; PARTUUID=&quot;20fe3944-5bcc-4441-baea-83f6838dc25a&quot;</div><div class="line">/dev/sda2: PARTLABEL=&quot;Microsoft reserved partition&quot; PARTUUID=&quot;3aa6b25b-e488-4b05-a782-3bf53e6bc2d4&quot;</div></pre></td></tr></table></figure>
<p>上面是我的树莓派挂载硬盘之后的状况。<br>这里的<code>/dev/sda1</code>和<code>/dev/sda2</code>就是我的硬盘了。最起码证明硬盘没有损坏，树莓派识别了，没有因为供电不足连接不上等原因导致不能使用。</p>
<p>上面的1和2就是硬盘的两个分区了。</p>
<a id="more"></a>
<p>为了再次确认，我们来看看更详细的状况。<br><code>sudo fdisk -l</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">Disk /dev/ram0: 4 MiB, 4194304 bytes, 8192 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 4096 bytes</div><div class="line">I/O size (minimum/optimal): 4096 bytes / 4096 bytes</div><div class="line">Disk /dev/ram1: 4 MiB, 4194304 bytes, 8192 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 4096 bytes</div><div class="line">I/O size (minimum/optimal): 4096 bytes / 4096 bytes</div><div class="line"></div><div class="line">// 这里略过了一些内容</div><div class="line"></div><div class="line">Device         Boot   Start      End  Sectors  Size Id Type</div><div class="line">/dev/mmcblk0p1         8192  2289062  2280871  1.1G  e W95 FAT16 (LBA)</div><div class="line">/dev/mmcblk0p2      2289063 31211519 28922457 13.8G  5 Extended</div><div class="line">/dev/mmcblk0p5      2293760  2359293    65534   32M 83 Linux</div><div class="line">/dev/mmcblk0p6      2359296  2488319   129024   63M  c W95 FAT32 (LBA)</div><div class="line">/dev/mmcblk0p7      2490368 31211519 28721152 13.7G 83 Linux</div><div class="line"></div><div class="line">Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disklabel type: gpt</div><div class="line">Disk identifier: 06ABE1B2-8385-4BF7-93C9-803768CECBAC</div><div class="line"></div><div class="line">Device      Start    End Sectors  Size Type</div><div class="line">/dev/sda1    2048 204799  202752   99M EFI System</div><div class="line">/dev/sda2  204800 466943  262144  128M Microsoft reserved</div></pre></td></tr></table></figure>
<p>这次的信息更加详细了。可以看到我有两个磁盘，一个是一个16G的(TF)，一个是500G的硬盘。</p>
<p>到这里就达到了确认硬盘挂载了，我们进行下一步。</p>
<h3 id="删除硬盘分区并格式化"><a href="#删除硬盘分区并格式化" class="headerlink" title="删除硬盘分区并格式化"></a>删除硬盘分区并格式化</h3><p>使用新建磁盘命令：<code>sudo fdisk /dev/sda</code><br>这个命令有非常友好的提示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Welcome to fdisk (util-linux 2.25.2).</div><div class="line">Changes will remain in memory only, until you decide to write them.</div><div class="line">Be careful before using the write command.</div><div class="line"></div><div class="line"></div><div class="line">Command (m for help):</div></pre></td></tr></table></figure></p>
<p>可以使用的选项有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">p 显示现有Ubuntu硬盘分区  </div><div class="line">n 建立Ubuntu硬盘分区  </div><div class="line">t 更盘Ubuntu硬盘分区类型  </div><div class="line">d 删除Ubuntu硬盘分区  </div><div class="line">a 更改Ubuntu硬盘分区启动标志  </div><div class="line">w 对Ubuntu硬盘分区的更改写入硬盘并退出。  </div><div class="line">q 不保存更改退出</div></pre></td></tr></table></figure>
<p>我们按照我们的需求，就是删除所有分区，创建一个新分区，依次键入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">// p: 先看一下现在的分区情况</div><div class="line">Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disklabel type: gpt</div><div class="line">Disk identifier: 06ABE1B2-8385-4BF7-93C9-803768CECBAC</div><div class="line"></div><div class="line">Device      Start    End Sectors  Size Type</div><div class="line">/dev/sda1    2048 204799  202752   99M EFI System</div><div class="line">/dev/sda2  204800 466943  262144  128M Microsoft reserved</div><div class="line"></div><div class="line">// d 删除一个分区</div><div class="line">Partition number (1,2, default 2):</div><div class="line">Selected partition 2</div><div class="line">Partition 2 has been deleted.</div><div class="line">// 直接回车即可，然后再次键入d，删除另外一个。</div><div class="line"></div><div class="line"></div><div class="line">// p 显示删除后的状态</div><div class="line">Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disklabel type: gpt</div><div class="line">Disk identifier: 06ABE1B2-8385-4BF7-93C9-803768CECBAC</div><div class="line"></div><div class="line">// n 新建一个分区，由于只需要创建一个分区，一路回车即可</div><div class="line">Partition number (1-128, default 1):</div><div class="line">First sector (34-976773134, default 2048):</div><div class="line">Last sector, +sectors or +size&#123;K,M,G,T,P&#125; (2048-976773134, default 976773134):</div><div class="line"></div><div class="line">Created a new partition 1 of type &apos;Linux filesystem&apos; and of size 465.8 GiB.</div><div class="line"></div><div class="line">// w 确认操作，进行写入</div><div class="line">The partition table has been altered.</div><div class="line">Calling ioctl() to re-read partition table.</div><div class="line">Syncing disks.</div></pre></td></tr></table></figure></p>
<p>这个时候，分区就搞定了，我们再<code>sudo fdisk -l</code>查看一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">// 上面略过一些内容</div><div class="line"></div><div class="line">Device         Boot   Start      End  Sectors  Size Id Type</div><div class="line">/dev/mmcblk0p1         8192  2289062  2280871  1.1G  e W95 FAT16 (LBA)</div><div class="line">/dev/mmcblk0p2      2289063 31211519 28922457 13.8G  5 Extended</div><div class="line">/dev/mmcblk0p5      2293760  2359293    65534   32M 83 Linux</div><div class="line">/dev/mmcblk0p6      2359296  2488319   129024   63M  c W95 FAT32 (LBA)</div><div class="line">/dev/mmcblk0p7      2490368 31211519 28721152 13.7G 83 Linux</div><div class="line"></div><div class="line">Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors</div><div class="line">Units: sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disklabel type: gpt</div><div class="line">Disk identifier: 06ABE1B2-8385-4BF7-93C9-803768CECBAC</div><div class="line"></div><div class="line">Device     Start       End   Sectors   Size Type</div><div class="line">/dev/sda1   2048 976773134 976771087 465.8G Linux filesystem</div></pre></td></tr></table></figure></p>
<p>开始格式化。<br><code>sudo mkfs -t ext4 /dev/sda1</code></p>
<p>格式化成ext4，ext4和ext3是向上升级的关系，4兼容3，能力更大一点。这里我选择了4.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mke2fs 1.42.12 (29-Aug-2014)</div><div class="line">/dev/sda1 contains a vfat file system</div><div class="line">无论如何也要继续? (y,n) y</div><div class="line">Creating filesystem with 122096385 4k blocks and 30531584 inodes</div><div class="line">Filesystem UUID: 94bcea79-04e3-4706-9964-9aef31791b07</div><div class="line">Superblock backups stored on blocks:</div><div class="line">	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,</div><div class="line">	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,</div><div class="line">	102400000</div><div class="line"></div><div class="line">Allocating group tables: 完成</div><div class="line">正在写入inode表: 完成</div><div class="line">Creating journal (32768 blocks): 完成</div><div class="line">Writing superblocks and filesystem accounting information: 完成</div></pre></td></tr></table></figure></p>
<p>OK，搞定。</p>
<p><strong>下一章预告：</strong>使用aria挂机下载</p>

    
  </div>
  <footer>
    
      
      
  <div class="tags">
    <a class="tags-link" href="/tags/树莓派/">树莓派</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
  <h1 class="title">评论</h1>
  <div class="ds-thread" data-title="树莓派挂载硬盘">
  </div>
</section>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2016 <a href="/">Maicss</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'maicss' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>